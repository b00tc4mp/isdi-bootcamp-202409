<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Unsocial</title>
  <link rel="shortcut icon" href="https://b00tc4mp.com/favicon.ico" type="image/x-icon">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Acme&display=swap');

    :root {
      --font: 'Acme', sans-serif;
      --color: rgb(1, 28, 87);
      font-family: var(--font);
    }

    body {
      background-color: lightskyblue;
    }

    .login {}
  </style>
</head>

<body>
  <h1>Unsocial</h1>

  <section class="login">
    <h2>Login</h2>

    <form>
      <label for="login-user">Username</label>
      <input type="text" id="login-user">

      <label for="login-password">Password</label>
      <input type="password" id="login-password">

      <button type="submit">Login</button>
    </form>

    <a href="">Register</a>
  </section>

  <section>
    <h2>Register</h2>
    <form>
      <label for="name">Name</label>
      <input type="text" id="name">

      <label for="email">Email</label>
      <input type="text" id="email">

      <label for="username">Username</label>
      <input type="text" id="username">

      <label for="password">Password</label>
      <input type="password" id="password">

      <button type="submit">Register</button>
    </form>

    <a href="">Login</a>
  </section>
  <section>
    <h2>Home</h2>

    <h3>Hello, User!</h3>

    <button>Logout</button>
  </section>

  <script>
    var users = [
      { name: 'Peter Pan', email: 'peter@pan.com', username: 'peterpan', password: '123123123' },
      { name: 'Wendy Darling', email: 'wendy@darling.com', username: 'wendydarling', password: '123123123' }
    ]

    var sections = document.querySelectorAll('section')
    var loginSection = sections[0]
    var registerSection = sections[1]
    var homeSection = sections[2]

    registerSection.style.display = 'none'
    homeSection.style.display = 'none'

    var anchors = document.querySelectorAll('a')
    var registerAnchor = anchors[0]

    registerAnchor.onclick = function (event) {
      event.preventDefault()
      loginSection.style.display = 'none'
      registerSection.style.display = ''
    }

    var loginAnchor = anchors[1]

    loginAnchor.onclick = function (event) {
      event.preventDefault()
      registerSection.style.display = 'none'
      loginSection.style.display = ''
    }

    var forms = document.querySelectorAll('form')
    var registerForm = forms[1]

    registerForm.onsubmit = function (event) {
      event.preventDefault()
      var inputs = registerForm.querySelectorAll('input')

      var nameInput = inputs[0]
      var name = nameInput.value

      var emailInput = inputs[1]
      var email = emailInput.value

      var usernameInput = inputs[2]
      var username = usernameInput.value

      var passwordInput = inputs[3]
      var password = passwordInput.value

      var user = {
        name: name,
        email: email,
        username: username,
        password: password
      }

      users.push(user)

      registerForm.reset()
      registerSection.style.display = 'none'
      loginSection.style.display = ''
    }

    var loginForm = forms[0]

    loginForm.onsubmit = function (event) {
      event.preventDefault()
      var loginInputs = loginForm.querySelectorAll('input')
      var loginUsername = loginInputs[0].value
      var loginPassword = loginInputs[1].value

      var match = users.find(function (element) {
        return (element.username === loginUsername) && (element.password === loginPassword)
      })

      if (match) {
        loginSection.style.display = 'none'
        homeSection.style.display = ''
        homeSection.querySelector('h3').innerText = 'Hello, ' + match['name']
      } else {
        alert('Escribe bien boludo!')
      }
      loginForm.reset()
    }

    var logoutButton = homeSection.querySelector('button')

    logoutButton.onclick = function (event) {
      event.preventDefault()

      homeSection.style.display = 'none'
      loginSection.style.display = ''
    }
  </script>
</body>

</html>